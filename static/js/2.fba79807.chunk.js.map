{"version":3,"sources":["../node_modules/@babel/runtime/helpers/defineProperty.js","../../src/promisifySend.ts","../../src/bridge.ts","../../src/custom-event.ts","../../src/index.ts","../../src/applyMiddleware.ts","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/react/jsx-runtime.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/index.js","../node_modules/react/cjs/react.production.min.js","../../../src/dom.ts","../../../src/animate.ts","../../../src/functions.ts","../../../src/detections.ts","../../../src/IOSDetections.ts","../../../src/InputUtils.ts","../../../src/lib/polyfills.ts","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/object-assign/index.js","../node_modules/@babel/runtime/helpers/classCallCheck.js"],"names":["module","exports","obj","key","value","Object","defineProperty","enumerable","configurable","writable","promisifySend","sendEvent","subscribe","counter","promiseControllers","requestResolver","current","next","this","add","controller","customId","id","resolve","requestId","data","isSuccess","requestPromise","reject","event","detail","_a","method","props","r","Promise","request_id","IS_CLIENT_SIDE","window","IS_ANDROID_WEBVIEW","Boolean","AndroidBridge","IS_IOS_WEBVIEW","webkit","messageHandlers","VKWebAppClose","IS_WEB","IS_MVK","test","location","search","EVENT_TYPE","DESKTOP_METHODS","androidBridge","iosBridge","CustomEvent","typeArg","eventInitDict","params","bubbles","cancelable","evt","document","createEvent","initCustomEvent","prototype","Event","bridge","version","webFrameId","subscribers","listener","push","isWebView","isIframe","parent","isEmbedded","addEventListener","__spreadArrays","map","fn","call","type_1","data_1","frameId","supportedHandlers","type","sendPromise","JSON","stringify","postMessage","handler","connectVersion","send","unsubscribe","index","indexOf","splice","supports","isStandalone","createVKBridge","applyMiddleware","middlewares","includes","filter","item","length","middlewareAPI","args","middleware","reduce","a","b","_defineProperties","target","i","descriptor","Constructor","protoProps","staticProps","require","arrayLikeToArray","arr","Array","isArray","iter","Symbol","iterator","from","o","minLen","n","toString","slice","constructor","name","TypeError","f","g","Fragment","for","h","m","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","hasOwnProperty","p","ref","__self","__source","q","c","k","d","e","l","defaultProps","$$typeof","_owner","jsx","jsxs","StrictMode","Profiler","t","Suspense","u","v","w","x","z","arguments","encodeURIComponent","A","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","B","C","context","refs","updater","D","E","isReactComponent","setState","Error","forceUpdate","F","isPureReactComponent","G","H","I","J","children","L","M","N","replace","escape","O","K","y","done","keys","join","P","Q","_status","_result","then","default","R","S","T","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","IsSomeRendererActing","assign","Children","forEach","apply","count","toArray","only","Component","PureComponent","cloneElement","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","createElement","createFactory","bind","createRef","forwardRef","render","isValidElement","lazy","_payload","_init","memo","compare","useCallback","useContext","useDebugValue","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","canUseDOM","canUseEventListeners","animationEvent","supported","transitionEvent","AnimationEvent","WebKitAnimationEvent","TransitionEvent","WebKitTransitionEvent","noop","options","get","isPassiveEventsSupported","isSupported","div","top","detectSmoothScrollSupport","ua","navigator","isIPadOS","notIOS","macOS","checkIPadOS","isIPad","isIPhone","isIOS","iosVersion","iosMajor","iosMinor","isScrollBasedViewport","isWKWebView","lte9","String","idb","checkWKWebView","isIPhoneX","screen","isIOSChrome","detectIOS","hasMouse","hasHover","hasTouchEvents","hasTouch","notMobile","matchMedia","ElementProto","Element","css","node","len","fromIndex","Math","isNaN","callback","list","thisArg","element","_typeof","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arr2","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","test1","getOwnPropertyNames","test2","fromCharCode","test3","split","letter","err","shouldUseNative","source","symbols","to","s","instance"],"mappings":"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","file":"static/js/2.fba79807.chunk.js","sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","import {\n  VKBridgeSubscribeHandler,\n  AnyRequestMethodName,\n  RequestProps,\n  RequestIdProp,\n  ReceiveData,\n  AnyReceiveMethodName,\n} from './types/bridge';\n\n/**\n * Creates counter interface.\n */\nfunction createCounter() {\n  return {\n    current: 0,\n    next() {\n      return ++this.current;\n    },\n  };\n}\n\n/**\n * Creates interface for resolving request promises by request id's (or not).\n */\nfunction createRequestResolver() {\n  /**\n   * @prop resolve Resolve function.\n   * @prop reject Reject function.\n   */\n  type PromiseController = {\n    resolve: (value: any) => any;\n    reject: (reason: any) => any;\n  };\n\n  const counter = createCounter();\n  const promiseControllers: Record<number | string, PromiseController | null> = {};\n\n  return {\n    /**\n     * Adds new controller with resolve/reject methods.\n     *\n     * @param controller Object with `resolve` and `reject` functions\n     * @param customId Custom `request_id`\n     * @returns New request id of the added controller.\n     */\n    add(controller: PromiseController, customId?: number | string): number | string {\n      const id = customId != null ? customId : counter.next();\n\n      promiseControllers[id] = controller;\n\n      return id;\n    },\n\n    /**\n     * Resolves/rejects an added promise by request id and the `isSuccess`\n     * predicate.\n     *\n     * @param requestId Request ID.\n     * @param data Data to pass to the resolve- or reject-function.\n     * @param isSuccess Predicate to select the desired function.\n     */\n    resolve<T>(requestId: number | string, data: T, isSuccess: (data: T) => boolean) {\n      const requestPromise = promiseControllers[requestId];\n\n      if (requestPromise) {\n        if (isSuccess(data)) {\n          requestPromise.resolve(data);\n        } else {\n          requestPromise.reject(data);\n        }\n\n        promiseControllers[requestId] = null;\n      }\n    },\n  };\n}\n\n/**\n * Returns send function that returns promises.\n *\n * @param sendEvent Send event function.\n * @param subscribe Subscribe event function.\n * @returns Send function which returns the Promise object.\n */\nexport function promisifySend(\n  sendEvent: <K extends AnyRequestMethodName>(method: K, props?: RequestProps<K> & RequestIdProp) => void,\n  subscribe: (fn: VKBridgeSubscribeHandler) => void\n) {\n  const requestResolver = createRequestResolver();\n\n  // Subscribe to receive a data\n  subscribe((event) => {\n    if (!event.detail || !event.detail.data || typeof event.detail.data !== 'object') {\n      return;\n    }\n\n    // There is no request_id in receive-only events, so we check its existence.\n    if ('request_id' in event.detail.data) {\n      const { request_id: requestId, ...data } = event.detail.data;\n\n      if (requestId) {\n        requestResolver.resolve(requestId, data, (data) => !('error_type' in data));\n      }\n    }\n  });\n\n  return function promisifiedSend<K extends AnyRequestMethodName>(\n    method: K,\n    props: RequestProps<K> & RequestIdProp = {} as RequestProps<K> & RequestIdProp\n  ): Promise<K extends AnyReceiveMethodName ? ReceiveData<K> : void> {\n    return new Promise((resolve, reject) => {\n      const requestId = requestResolver.add({ resolve, reject }, props.request_id);\n\n      sendEvent(method, {\n        ...props,\n        request_id: requestId,\n      });\n    });\n  };\n}\n","import { promisifySend } from './promisifySend';\nimport { VKBridge, VKBridgeSubscribeHandler, AnyRequestMethodName, RequestProps, RequestIdProp } from './types/bridge';\n\n/** Is the client side runtime environment */\nexport const IS_CLIENT_SIDE = typeof window !== 'undefined';\n\n/** Is the runtime environment an Android app */\nexport const IS_ANDROID_WEBVIEW = Boolean(IS_CLIENT_SIDE && (window as any).AndroidBridge);\n\n/** Is the runtime environment an iOS app */\nexport const IS_IOS_WEBVIEW = Boolean(\n  IS_CLIENT_SIDE &&\n    (window as any).webkit &&\n    (window as any).webkit.messageHandlers &&\n    (window as any).webkit.messageHandlers.VKWebAppClose\n);\n\n/** Is the runtime environment a browser */\nexport const IS_WEB = IS_CLIENT_SIDE && !IS_ANDROID_WEBVIEW && !IS_IOS_WEBVIEW;\n\n/** Is the runtime environment m.vk.com */\nexport const IS_MVK = IS_WEB && /(^\\?|&)vk_platform=mobile_web(&|$)/.test(location.search);\n\n/** Is the runtime environment vk.com */\nexport const IS_DESKTOP_VK = IS_WEB && !IS_MVK;\n\n/** Type of subscribe event */\nexport const EVENT_TYPE = IS_WEB ? 'message' : 'VKWebAppEvent';\n\n/** Methods supported on the desktop */\nexport const DESKTOP_METHODS = [\n  'VKWebAppInit',\n  'VKWebAppGetCommunityAuthToken',\n  'VKWebAppAddToCommunity',\n  'VKWebAppAddToHomeScreenInfo',\n  'VKWebAppClose',\n  'VKWebAppCopyText',\n  'VKWebAppGetUserInfo',\n  'VKWebAppSetLocation',\n  'VKWebAppSendToClient',\n  'VKWebAppGetClientVersion',\n  'VKWebAppGetPhoneNumber',\n  'VKWebAppGetEmail',\n  'VKWebAppGetGroupInfo',\n  'VKWebAppGetGeodata',\n  'VKWebAppGetCommunityToken',\n  'VKWebAppSetTitle',\n  'VKWebAppGetAuthToken',\n  'VKWebAppCallAPIMethod',\n  'VKWebAppJoinGroup',\n  'VKWebAppLeaveGroup',\n  'VKWebAppAllowMessagesFromGroup',\n  'VKWebAppDenyNotifications',\n  'VKWebAppAllowNotifications',\n  'VKWebAppOpenPayForm',\n  'VKWebAppOpenApp',\n  'VKWebAppShare',\n  'VKWebAppShowWallPostBox',\n  'VKWebAppScroll',\n  'VKWebAppShowOrderBox',\n  'VKWebAppShowLeaderBoardBox',\n  'VKWebAppShowInviteBox',\n  'VKWebAppShowRequestBox',\n  'VKWebAppAddToFavorites',\n  'VKWebAppShowCommunityWidgetPreviewBox',\n  'VKWebAppShowStoryBox',\n  'VKWebAppStorageGet',\n  'VKWebAppStorageGetKeys',\n  'VKWebAppStorageSet',\n  'VKWebAppFlashGetInfo',\n  'VKWebAppSubscribeStoryApp',\n  'VKWebAppOpenWallPost',\n  'VKWebAppCheckAllowedScopes',\n  'VKWebAppShowNativeAds',\n\n  // Desktop web specific events\n  ...(IS_DESKTOP_VK ? ['VKWebAppResizeWindow', 'VKWebAppAddToMenu', 'VKWebAppShowSubscriptionBox', 'VKWebAppShowInstallPushBox', 'VKWebAppGetFriends'] : ['VKWebAppShowImages']),\n];\n\n/** Android VK Bridge interface. */\nconst androidBridge: Record<string, (serializedData: string) => void> | undefined = IS_CLIENT_SIDE\n  ? (window as any).AndroidBridge\n  : undefined;\n\n/** iOS VK Bridge interface. */\nconst iosBridge: Record<string, { postMessage?: (data: any) => void }> | undefined = IS_IOS_WEBVIEW\n  ? (window as any).webkit.messageHandlers\n  : undefined;\n\nlet webSdkHandlers: string[] | undefined;\n\n/**\n * Creates a VK Bridge API that holds functions for interact with runtime\n * environment.\n *\n * @param version Version of the package\n */\nexport function createVKBridge(version: string): VKBridge {\n  /** Current frame id. */\n  let webFrameId: string | undefined = undefined;\n\n  /** List of functions that subscribed on events. */\n  const subscribers: VKBridgeSubscribeHandler[] = [];\n\n  /**\n   * Sends an event to the runtime env. In the case of Android/iOS application\n   * env is the application itself. In the case of the browser, the parent\n   * frame in which the event handlers is located.\n   *\n   * @param method The method (event) name to send\n   * @param [props] Method properties\n   */\n  function send<K extends AnyRequestMethodName>(method: K, props?: RequestProps<K> & RequestIdProp) {\n    // Sending data through Android bridge\n    if (androidBridge && androidBridge[method]) {\n      androidBridge[method](JSON.stringify(props));\n    }\n\n    // Sending data through iOS bridge\n    else if (iosBridge && iosBridge[method] && typeof iosBridge[method].postMessage === 'function') {\n      iosBridge[method].postMessage!(props);\n    }\n\n    // Sending data through web bridge\n    else if (IS_WEB) {\n      parent.postMessage(\n        {\n          handler: method,\n          params: props,\n          type: 'vk-connect',\n          webFrameId,\n          connectVersion: version,\n        },\n        '*'\n      );\n    }\n  }\n\n  /**\n   * Adds an event listener. It will be called any time a data is received.\n   *\n   * @param listener A callback to be invoked on every event receive.\n   */\n  function subscribe(listener: VKBridgeSubscribeHandler) {\n    subscribers.push(listener);\n  }\n\n  /**\n   * Removes an event listener which has been subscribed for event listening.\n   *\n   * @param listener A callback to unsubscribe.\n   */\n  function unsubscribe(listener: VKBridgeSubscribeHandler) {\n    const index = subscribers.indexOf(listener);\n\n    if (index > -1) {\n      subscribers.splice(index, 1);\n    }\n  }\n\n  /**\n   * Checks if a method is supported on runtime platform.\n   *\n   * @param method Method (event) name to check.\n   * @returns Result of checking.\n   */\n  function supports<K extends AnyRequestMethodName>(method: K): boolean {\n    if (IS_ANDROID_WEBVIEW) {\n      // Android support check\n      return !!(androidBridge && typeof androidBridge[method] === 'function');\n    } else if (IS_IOS_WEBVIEW) {\n      // iOS support check\n      return !!(iosBridge && iosBridge[method] && typeof iosBridge[method].postMessage === 'function');\n    } else if (IS_WEB) {\n      // Web support check\n      return DESKTOP_METHODS.indexOf(method) > -1;\n      // if (!webSdkHandlers) {\n      //   console.error('You should call bridge.send(\"VKWebAppInit\") first');\n      //   return false;\n      // }\n      // return webSdkHandlers.includes(method);\n    }\n\n    return false;\n  }\n\n  /**\n   * Checks whether the runtime is a WebView.\n   *\n   * @returns Result of checking.\n   */\n  function isWebView(): boolean {\n    return IS_IOS_WEBVIEW || IS_ANDROID_WEBVIEW;\n  }\n\n  /**\n   * Checks whether the runtime is an iframe.\n   *\n   * @returns Result of checking.\n   */\n  function isIframe(): boolean {\n    return IS_WEB && window.parent !== window;\n  }\n\n  /**\n   * Checks whether the runtime is embedded.\n   *\n   * @returns Result of checking.\n   */\n  function isEmbedded(): boolean {\n    return isWebView() || isIframe();\n  }\n\n  /**\n   * Checks whether the runtime is standalone.\n   *\n   * @returns Result of checking.\n   */\n  function isStandalone(): boolean {\n    return !isEmbedded();\n  }\n\n  // Subscribes to listening messages from a runtime for calling each\n  // subscribed event listener.\n  if (typeof window !== 'undefined' && 'addEventListener' in window) {\n    window.addEventListener(EVENT_TYPE, (event: any) => {\n      if (IS_IOS_WEBVIEW || IS_ANDROID_WEBVIEW) {\n        // If it's webview\n        return [...subscribers].map((fn) => fn.call(null, event));\n      } else if (IS_WEB && event && event.data) {\n        // If it's web\n        const { type, data, frameId } = event.data;\n        if (type && type === 'SetSupportedHandlers') {\n          webSdkHandlers = data.supportedHandlers;\n        } else if (type && type === 'VKWebAppSettings') {\n          webFrameId = frameId;\n        } else {\n          [...subscribers].map((fn) => fn({ detail: { type, data } }));\n        }\n      }\n    });\n  }\n\n  /**\n   * Enhanced send functions for the ability to receive response data in\n   * the Promise object.\n   */\n  const sendPromise = promisifySend(send, subscribe);\n\n  return {\n    send: sendPromise,\n    sendPromise,\n    subscribe,\n    unsubscribe,\n    supports,\n    isWebView,\n    isIframe,\n    isEmbedded,\n    isStandalone,\n  };\n}\n","/**\n * Creates the CustomEvent polyfill. VK apps use the CustomEvent for transfer\n * data.\n */\nexport function createCustomEventPolyfill() {\n  function CustomEvent<T>(typeArg: string, eventInitDict?: CustomEventInit<T>): CustomEvent<T> {\n    const params = eventInitDict || { bubbles: false, cancelable: false, detail: undefined };\n\n    const evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(typeArg, !!params.bubbles, !!params.cancelable, params.detail);\n\n    return evt;\n  }\n\n  CustomEvent.prototype = Event.prototype;\n\n  return CustomEvent;\n}\n","import \"./lib/polyfills\";\n\nimport \"./styles/constants.css\";\nimport \"./styles/animations.css\";\nimport \"./styles/common.css\";\n\n/**\n * Layout\n */\nexport { default as Root } from \"./components/Root/Root\";\nexport type { RootProps } from \"./components/Root/Root\";\nexport { default as View } from \"./components/View/View\";\nexport type { ViewProps } from \"./components/View/View\";\nexport { Panel } from \"./components/Panel/Panel\";\nexport type { PanelProps } from \"./components/Panel/Panel\";\nexport { PanelHeaderButton } from \"./components/PanelHeaderButton/PanelHeaderButton\";\nexport type { PanelHeaderButtonProps } from \"./components/PanelHeaderButton/PanelHeaderButton\";\nexport { default as PanelHeader } from \"./components/PanelHeader/PanelHeader\";\nexport type { PanelHeaderProps } from \"./components/PanelHeader/PanelHeader\";\nexport { default as PanelHeaderContent } from \"./components/PanelHeaderContent/PanelHeaderContent\";\nexport type { PanelHeaderContentProps } from \"./components/PanelHeaderContent/PanelHeaderContent\";\nexport { PanelHeaderContext } from \"./components/PanelHeaderContext/PanelHeaderContext\";\nexport type { PanelHeaderContextProps } from \"./components/PanelHeaderContext/PanelHeaderContext\";\nexport { SplitLayout } from \"./components/SplitLayout/SplitLayout\";\nexport type { SplitLayoutProps } from \"./components/SplitLayout/SplitLayout\";\nexport { SplitCol } from \"./components/SplitCol/SplitCol\";\nexport type { SplitColProps } from \"./components/SplitCol/SplitCol\";\nexport { default as Epic } from \"./components/Epic/Epic\";\nexport type { EpicProps } from \"./components/Epic/Epic\";\nexport { default as Tabbar } from \"./components/Tabbar/Tabbar\";\nexport type { TabbarProps } from \"./components/Tabbar/Tabbar\";\nexport { default as TabbarItem } from \"./components/TabbarItem/TabbarItem\";\nexport type { TabbarItemProps } from \"./components/TabbarItem/TabbarItem\";\nexport { default as HorizontalScroll } from \"./components/HorizontalScroll/HorizontalScroll\";\nexport type { HorizontalScrollProps } from \"./components/HorizontalScroll/HorizontalScroll\";\nexport { default as FixedLayout } from \"./components/FixedLayout/FixedLayout\";\nexport type { FixedLayoutProps } from \"./components/FixedLayout/FixedLayout\";\n\n/**\n * Popouts\n */\nexport { PopoutWrapper } from \"./components/PopoutWrapper/PopoutWrapper\";\nexport type { PopoutWrapperProps } from \"./components/PopoutWrapper/PopoutWrapper\";\nexport { default as Alert } from \"./components/Alert/Alert\";\nexport type {\n  AlertProps,\n  AlertActionInterface,\n} from \"./components/Alert/Alert\";\nexport { ActionSheet } from \"./components/ActionSheet/ActionSheet\";\nexport type { ActionSheetProps } from \"./components/ActionSheet/ActionSheet\";\nexport { default as ActionSheetItem } from \"./components/ActionSheetItem/ActionSheetItem\";\nexport type { ActionSheetItemProps } from \"./components/ActionSheetItem/ActionSheetItem\";\nexport { default as ScreenSpinner } from \"./components/ScreenSpinner/ScreenSpinner\";\nexport type { ScreenSpinnerProps } from \"./components/ScreenSpinner/ScreenSpinner\";\nexport { Snackbar } from \"./components/Snackbar/Snackbar\";\nexport type { SnackbarProps } from \"./components/Snackbar/Snackbar\";\n\n/**\n * Modals\n */\nexport { ModalRoot } from \"./components/ModalRoot/ModalRootAdaptive\";\nexport type { ModalRootProps } from \"./components/ModalRoot/ModalRootAdaptive\";\nexport { withModalRootContext } from \"./components/ModalRoot/withModalRootContext\";\nexport { default as ModalRootContext } from \"./components/ModalRoot/ModalRootContext\";\nexport { default as ModalPage } from \"./components/ModalPage/ModalPage\";\nexport type { ModalPageProps } from \"./components/ModalPage/ModalPage\";\nexport { default as ModalPageHeader } from \"./components/ModalPageHeader/ModalPageHeader\";\nexport type { ModalPageHeaderProps } from \"./components/ModalPageHeader/ModalPageHeader\";\nexport { default as ModalCard } from \"./components/ModalCard/ModalCard\";\nexport type { ModalCardProps } from \"./components/ModalCard/ModalCard\";\nexport { default as ModalDismissButton } from \"./components/ModalDismissButton/ModalDismissButton\";\nexport type { ModalDismissButtonProps } from \"./components/ModalDismissButton/ModalDismissButton\";\n\n/**\n * Blocks\n */\nexport { Badge } from \"./components/Badge/Badge\";\nexport type { BadgeProps } from \"./components/Badge/Badge\";\nexport { default as Button } from \"./components/Button/Button\";\nexport type { ButtonProps } from \"./components/Button/Button\";\nexport { default as IconButton } from \"./components/IconButton/IconButton\";\nexport type { IconButtonProps } from \"./components/IconButton/IconButton\";\nexport { default as Card } from \"./components/Card/Card\";\nexport type { CardProps } from \"./components/Card/Card\";\nexport { default as CardGrid } from \"./components/CardGrid/CardGrid\";\nexport type { CardGridProps } from \"./components/CardGrid/CardGrid\";\nexport { default as CardScroll } from \"./components/CardScroll/CardScroll\";\nexport type { CardScrollProps } from \"./components/CardScroll/CardScroll\";\nexport { default as ContentCard } from \"./components/ContentCard/ContentCard\";\nexport type { ContentCardProps } from \"./components/ContentCard/ContentCard\";\nexport { CellButton } from \"./components/CellButton/CellButton\";\nexport type { CellButtonProps } from \"./components/CellButton/CellButton\";\nexport { default as Header } from \"./components/Header/Header\";\nexport type { HeaderProps } from \"./components/Header/Header\";\nexport { default as Group } from \"./components/Group/Group\";\nexport type { GroupProps } from \"./components/Group/Group\";\nexport { default as Gradient } from \"./components/Gradient/Gradient\";\nexport type { GradientProps } from \"./components/Gradient/Gradient\";\nexport { default as List } from \"./components/List/List\";\nexport { Cell } from \"./components/Cell/Cell\";\nexport type { CellProps } from \"./components/Cell/Cell\";\nexport { default as RichCell } from \"./components/RichCell/RichCell\";\nexport type { RichCellProps } from \"./components/RichCell/RichCell\";\nexport { default as SimpleCell } from \"./components/SimpleCell/SimpleCell\";\nexport type { SimpleCellProps } from \"./components/SimpleCell/SimpleCell\";\nexport { HorizontalCell } from \"./components/HorizontalCell/HorizontalCell\";\nexport type { HorizontalCellProps } from \"./components/HorizontalCell/HorizontalCell\";\nexport { Footer } from \"./components/Footer/Footer\";\nexport type { FooterProps } from \"./components/Footer/Footer\";\nexport { default as InfoRow } from \"./components/InfoRow/InfoRow\";\nexport type { InfoRowProps } from \"./components/InfoRow/InfoRow\";\nexport { default as Gallery } from \"./components/Gallery/Gallery\";\nexport type { GalleryProps } from \"./components/Gallery/Gallery\";\nexport { default as Avatar } from \"./components/Avatar/Avatar\";\nexport type { AvatarProps } from \"./components/Avatar/Avatar\";\nexport { GridAvatar } from \"./components/GridAvatar/GridAvatar\";\nexport type { GridAvatarProps } from \"./components/GridAvatar/GridAvatar\";\nexport { InitialsAvatar } from \"./components/InitialsAvatar/InitialsAvatar\";\nexport type { InitialsAvatarProps } from \"./components/InitialsAvatar/InitialsAvatar\";\nexport { default as Progress } from \"./components/Progress/Progress\";\nexport type { ProgressProps } from \"./components/Progress/Progress\";\nexport { default as Search } from \"./components/Search/Search\";\nexport type { SearchProps } from \"./components/Search/Search\";\nexport { default as Tabs } from \"./components/Tabs/Tabs\";\nexport type { TabsProps } from \"./components/Tabs/Tabs\";\nexport { default as TabsItem } from \"./components/TabsItem/TabsItem\";\nexport type { TabsItemProps } from \"./components/TabsItem/TabsItem\";\nexport { default as Spinner } from \"./components/Spinner/Spinner\";\nexport type { SpinnerProps } from \"./components/Spinner/Spinner\";\nexport { default as PullToRefresh } from \"./components/PullToRefresh/PullToRefresh\";\nexport type { PullToRefreshProps } from \"./components/PullToRefresh/PullToRefresh\";\nexport { default as Link } from \"./components/Link/Link\";\nexport type { LinkProps } from \"./components/Link/Link\";\nexport { default as Tooltip } from \"./components/Tooltip/Tooltip\";\nexport type { TooltipProps } from \"./components/Tooltip/Tooltip\";\nexport { TooltipContainer } from \"./components/Tooltip/TooltipContainer\";\nexport { default as Counter } from \"./components/Counter/Counter\";\nexport type { CounterProps } from \"./components/Counter/Counter\";\nexport { default as UsersStack } from \"./components/UsersStack/UsersStack\";\nexport type { UsersStackProps } from \"./components/UsersStack/UsersStack\";\nexport { default as Separator } from \"./components/Separator/Separator\";\nexport type { SeparatorProps } from \"./components/Separator/Separator\";\nexport { Spacing } from \"./components/Spacing/Spacing\";\nexport type { SpacingProps } from \"./components/Spacing/Spacing\";\nexport { default as Placeholder } from \"./components/Placeholder/Placeholder\";\nexport type { PlaceholderProps } from \"./components/Placeholder/Placeholder\";\nexport { default as Banner } from \"./components/Banner/Banner\";\nexport type { BannerProps } from \"./components/Banner/Banner\";\nexport { MiniInfoCell } from \"./components/MiniInfoCell/MiniInfoCell\";\nexport type { MiniInfoCellProps } from \"./components/MiniInfoCell/MiniInfoCell\";\nexport { WriteBar } from \"./components/WriteBar/WriteBar\";\nexport type { WriteBarProps } from \"./components/WriteBar/WriteBar\";\nexport { WriteBarIcon } from \"./components/WriteBarIcon/WriteBarIcon\";\nexport type { WriteBarIconProps } from \"./components/WriteBarIcon/WriteBarIcon\";\nexport { SubnavigationBar } from \"./components/SubnavigationBar/SubnavigationBar\";\nexport type { SubnavigationBarProps } from \"./components/SubnavigationBar/SubnavigationBar\";\nexport { SubnavigationButton } from \"./components/SubnavigationButton/SubnavigationButton\";\nexport type { SubnavigationButtonProps } from \"./components/SubnavigationButton/SubnavigationButton\";\n\n/**\n * Forms\n */\nexport { default as FormLayout } from \"./components/FormLayout/FormLayout\";\nexport type { FormLayoutProps } from \"./components/FormLayout/FormLayout\";\nexport { FormItem } from \"./components/FormItem/FormItem\";\nexport type { FormItemProps } from \"./components/FormItem/FormItem\";\nexport { FormField } from \"./components/FormField/FormField\";\nexport type { FormFieldProps } from \"./components/FormField/FormField\";\nexport { default as FormLayoutGroup } from \"./components/FormLayoutGroup/FormLayoutGroup\";\nexport type { FormLayoutGroupProps } from \"./components/FormLayoutGroup/FormLayoutGroup\";\nexport { FormStatus } from \"./components/FormStatus/FormStatus\";\nexport type { FormStatusProps } from \"./components/FormStatus/FormStatus\";\nexport { Switch } from \"./components/Switch/Switch\";\nexport type { SwitchProps } from \"./components/Switch/Switch\";\nexport { default as File } from \"./components/File/File\";\nexport type { FileProps } from \"./components/File/File\";\nexport { default as Input } from \"./components/Input/Input\";\nexport type { InputProps } from \"./components/Input/Input\";\nexport { default as Chip } from \"./components/Chip/Chip\";\nexport type { ChipProps } from \"./components/Chip/Chip\";\nexport { default as ChipsInput } from \"./components/ChipsInput/ChipsInput\";\nexport type { ChipsInputProps } from \"./components/ChipsInput/ChipsInput\";\nexport { default as Slider } from \"./components/Slider/Slider\";\nexport type { SliderProps } from \"./components/Slider/Slider\";\nexport { default as RangeSlider } from \"./components/RangeSlider/RangeSlider\";\nexport type { RangeSliderProps } from \"./components/RangeSlider/RangeSlider\";\nexport { default as Textarea } from \"./components/Textarea/Textarea\";\nexport type { TextareaProps } from \"./components/Textarea/Textarea\";\nexport { default as Radio } from \"./components/Radio/Radio\";\nexport type { RadioProps } from \"./components/Radio/Radio\";\nexport { RadioGroup } from \"./components/RadioGroup/RadioGroup\";\nexport type { RadioGroupProps } from \"./components/RadioGroup/RadioGroup\";\nexport { default as Checkbox } from \"./components/Checkbox/Checkbox\";\nexport type { CheckboxProps } from \"./components/Checkbox/Checkbox\";\nexport { default as Select } from \"./components/Select/Select\";\nexport type { SelectProps } from \"./components/Select/Select\";\nexport { default as SelectMimicry } from \"./components/SelectMimicry/SelectMimicry\";\nexport type { SelectMimicryProps } from \"./components/SelectMimicry/SelectMimicry\";\nexport { default as NativeSelect } from \"./components/NativeSelect/NativeSelect\";\nexport type { NativeSelectProps } from \"./components/NativeSelect/NativeSelect\";\nexport { default as CustomSelect } from \"./components/CustomSelect/CustomSelect\";\nexport type {\n  CustomSelectProps,\n  CustomSelectOptionInterface,\n} from \"./components/CustomSelect/CustomSelect\";\nexport { default as CustomSelectOption } from \"./components/CustomSelectOption/CustomSelectOption\";\nexport type { CustomSelectOptionProps } from \"./components/CustomSelectOption/CustomSelectOption\";\nexport { default as DatePicker } from \"./components/DatePicker/DatePicker\";\nexport type {\n  DatePickerProps,\n  DatePickerDateFormat,\n} from \"./components/DatePicker/DatePicker\";\nexport { default as SliderSwitch } from \"./components/SliderSwitch/SliderSwitch\";\nexport type {\n  SliderSwitchProps,\n  SliderSwitchOptionInterface,\n} from \"./components/SliderSwitch/SliderSwitch\";\n\n/**\n * Helpers\n */\nexport { default as Div } from \"./components/Div/Div\";\nexport type { DivProps } from \"./components/Div/Div\";\nexport { default as Tappable } from \"./components/Tappable/Tappable\";\nexport type { TappableProps } from \"./components/Tappable/Tappable\";\nexport { Touch } from \"./components/Touch/Touch\";\nexport type { TouchProps } from \"./components/Touch/Touch\";\nexport { default as PanelSpinner } from \"./components/PanelSpinner/PanelSpinner\";\nexport type { PanelSpinnerProps } from \"./components/PanelSpinner/PanelSpinner\";\nexport { default as PanelHeaderClose } from \"./components/PanelHeaderClose/PanelHeaderClose\";\nexport { default as PanelHeaderBack } from \"./components/PanelHeaderBack/PanelHeaderBack\";\nexport { default as PanelHeaderSubmit } from \"./components/PanelHeaderSubmit/PanelHeaderSubmit\";\nexport { default as PanelHeaderEdit } from \"./components/PanelHeaderEdit/PanelHeaderEdit\";\nexport type { PanelHeaderEditProps } from \"./components/PanelHeaderEdit/PanelHeaderEdit\";\nexport { ModalCardBase } from \"./components/ModalCardBase/ModalCardBase\";\nexport type { ModalCardBaseProps } from \"./components/ModalCardBase/ModalCardBase\";\n\n/**\n * Wrappers\n */\nexport { AppRoot } from \"./components/AppRoot/AppRoot\";\nexport { default as AdaptivityProvider } from \"./components/AdaptivityProvider/AdaptivityProvider\";\nexport { default as ConfigProvider } from \"./components/ConfigProvider/ConfigProvider\";\nexport type { ConfigProviderProps } from \"./components/ConfigProvider/ConfigProvider\";\nexport {\n  ConfigProviderContext,\n  Appearance,\n  Scheme,\n  WebviewType,\n} from \"./components/ConfigProvider/ConfigProviderContext\";\n\n/**\n * Advertisement\n */\nexport { default as PromoBanner } from \"./components/PromoBanner/PromoBanner\";\nexport type { PromoBannerProps } from \"./components/PromoBanner/PromoBanner\";\n\n/**\n * Typography\n */\nexport { default as Title } from \"./components/Typography/Title/Title\";\nexport type { TitleProps } from \"./components/Typography/Title/Title\";\nexport { default as Headline } from \"./components/Typography/Headline/Headline\";\nexport type { HeadlineProps } from \"./components/Typography/Headline/Headline\";\nexport { default as Text } from \"./components/Typography/Text/Text\";\nexport type { TextProps } from \"./components/Typography/Text/Text\";\nexport { default as Caption } from \"./components/Typography/Caption/Caption\";\nexport type { CaptionProps } from \"./components/Typography/Caption/Caption\";\nexport { default as Subhead } from \"./components/Typography/Subhead/Subhead\";\nexport type { SubheadProps } from \"./components/Typography/Subhead/Subhead\";\n\n/**\n * HOCs\n */\nexport { withInsets } from \"./hoc/withInsets\";\nexport { withPlatform } from \"./hoc/withPlatform\";\nexport { withAdaptivity } from \"./hoc/withAdaptivity\";\n\n/**\n * Hooks\n */\nexport { useInsets } from \"./hooks/useInsets\";\nexport { usePlatform } from \"./hooks/usePlatform\";\nexport { useAdaptivity } from \"./hooks/useAdaptivity\";\nexport { useAppearance } from \"./hooks/useAppearance\";\n\n/**\n * Utils\n */\nexport { classNamesString as classNames } from \"./lib/classNames\";\nexport { default as animate } from \"./lib/animate\";\nexport { removeObjectKeys } from \"./lib/removeObjectKeys\";\nexport { SSRWrapper } from \"./lib/SSR\";\nexport {\n  platform,\n  ANDROID,\n  IOS,\n  VKCOM,\n  Platform,\n  IS_PLATFORM_ANDROID,\n  IS_PLATFORM_IOS,\n} from \"./lib/platform\";\nexport { getClassName } from \"./helpers/getClassName\";\nexport {\n  ViewWidth,\n  ViewHeight,\n  SizeType,\n} from \"./components/AdaptivityProvider/AdaptivityContext\";\nexport { calcInitialsAvatarColor } from \"./helpers/avatar\";\nexport { Popper } from \"./components/Popper/Popper\";\n\n/**\n * Types\n */\nexport type { AlignType, HasPlatform, HasInsets } from \"./types\";\nexport type { NavIdProps } from \"./lib/getNavId\";\nexport type { PlatformType } from \"./lib/platform\";\nexport type { AdaptivityProps } from \"./hoc/withAdaptivity\";\n","import { VKBridge, VKBridgeSend } from './types/bridge';\nimport { Middleware, MiddlewareAPI } from './types/middleware';\n\n/**\n * Creates the VK Bridge enhancer that applies middleware to the `send`\n * method. This is handy for a variety of task such as logging every sent\n * event.\n *\n * @param middlewares The middleware chain to be applied.\n * @returns The VK Bridge enhancer applying the middleware.\n */\nexport function applyMiddleware(...middlewares: Array<Middleware | undefined | null>): (bridge: VKBridge) => VKBridge {\n  if (middlewares.includes(undefined) || middlewares.includes(null)) {\n    return applyMiddleware(...middlewares.filter((item): item is Middleware => typeof item === 'function'));\n  }\n\n  return (bridge) => {\n    if (middlewares.length === 0) {\n      return bridge;\n    }\n\n    let send: VKBridgeSend = () => {\n      throw new Error(\n        'Sending events while constructing your middleware is not allowed. ' +\n          'Other middleware would not be applied to this send.'\n      );\n    };\n\n    const middlewareAPI: MiddlewareAPI = {\n      subscribe: bridge.subscribe,\n      send: (...args) => bridge.send(...args),\n    };\n\n    const chain = middlewares\n      .filter((item): item is Middleware => typeof item === 'function')\n      .map((middleware) => middleware(middlewareAPI)) //\n      .reduce((a, b) => (send) => a(b(send)));\n\n    send = chain(bridge.send);\n\n    return {\n      ...bridge,\n      send,\n    };\n  };\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/** @license React v17.0.2\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.2\";\n","export const canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  /* eslint-disable */\n  window.document.createElement\n  /* eslint-enable */\n);\n\nexport const canUseEventListeners: boolean = canUseDOM && !!window.addEventListener;\n\nexport function onDOMLoaded(callback: (...args: any[]) => any) {\n  if (document.readyState !== 'loading') {\n    callback();\n  } else {\n    document.addEventListener('DOMContentLoaded', callback);\n  }\n}\n","import { canUseDOM, canUseEventListeners } from './dom';\nimport { SupportEvent } from './types';\n\ntype TimingInterface = (timeFraction: number) => number;\n\ntype DrawInterface = (progress: number) => void;\n\ninterface AnimateArgumentsInterface {\n  duration: number;\n  timing: TimingInterface;\n  draw: DrawInterface;\n}\n\n/**\n * Функция для js анимации\n * @param {number} duration\n * @param {function} timing тайминг функция анимации\n * @param {function} draw коллбэк, в который прокидывается прогресс [0, 1]\n * @returns {void}\n */\nexport function animate({ duration, timing, draw }: AnimateArgumentsInterface) {\n  if (!canUseDOM) {\n    return;\n  }\n\n  const start = window.performance.now();\n\n  window.requestAnimationFrame(function animate(time) {\n    let timeFraction = (time - start) / duration;\n\n    if (timeFraction > 1) {\n      timeFraction = 1;\n    }\n\n    const progress = timing(timeFraction);\n\n    draw(progress);\n\n    if (timeFraction < 1) {\n      window.requestAnimationFrame(animate);\n    }\n  });\n}\n\n// WebKitAnimationEvent и WebKitTransitionEvent не существуют в глобальном контексте\ndeclare const WebKitAnimationEvent: AnimationEvent;\ndeclare const WebKitTransitionEvent: TransitionEvent;\n\nexport const animationEvent: SupportEvent<'animationend'> = {\n  supported: false,\n  name: 'animationend',\n};\n\nexport const transitionEvent: SupportEvent<'transitionend'> = {\n  supported: false,\n  name: 'transitionend',\n};\n\nif (canUseDOM) {\n  if (typeof AnimationEvent !== 'undefined') {\n    animationEvent.supported = true;\n  } else if (typeof WebKitAnimationEvent !== 'undefined') {\n    animationEvent.supported = true;\n\n    // webkitAnimationEnd не входит в перечисление событий, но соответствует animationend\n    animationEvent.name = 'webkitAnimationEnd' as unknown as 'animationend';\n  }\n\n  if (typeof TransitionEvent !== 'undefined') {\n    transitionEvent.supported = true;\n  } else if (typeof WebKitTransitionEvent !== 'undefined') {\n    transitionEvent.supported = true;\n\n    // webkitTransitionEnd не входит в перечисление событий, но соответствует transitionend\n    transitionEvent.name = 'webkitTransitionEnd' as unknown as 'transitionend';\n  }\n}\n\n/**\n * Ожидание окончания анимации на элементе\n *\n * @param listener коллбэк окончания ожидания\n * @param fallbackTime сколько ждать в мс если событие не поддерживается\n * @param el элемент\n */\nexport function waitAnimationEnd(listener: (ev?: AnimationEvent) => any, fallbackTime: number, el?: GlobalEventHandlers) {\n  if (canUseEventListeners) {\n    if (animationEvent.supported && el) {\n      el.addEventListener(animationEvent.name, listener);\n    } else {\n      return window.setTimeout(listener, fallbackTime);\n    }\n  }\n}\n\n/**\n * Прекращение ожидания окончания анимации на элементе\n *\n * @param listener коллбэк окончания ожидания\n * @param handle то, что вернулось из ```waitAnimationEnd```\n * @param el элемент\n */\nexport function cancelWaitAnimationEnd(listener: (ev?: AnimationEvent) => any, handle?: number, el?: GlobalEventHandlers) {\n  if (canUseEventListeners) {\n    if (animationEvent.supported && el) {\n      el.removeEventListener(animationEvent.name, listener);\n    } else {\n      window.clearTimeout(handle);\n    }\n  }\n}\n\n/**\n * Ожидание окончания анимации перехода на элементе\n *\n * @param listener коллбэк окончания ожидания\n * @param fallbackTime сколько ждать в мс если событие не поддерживается\n * @param el элемент\n */\nexport function waitTransitionEnd(el: GlobalEventHandlers, listener: (ev?: TransitionEvent) => any, fallbackTime: number) {\n  if (canUseEventListeners) {\n    if (transitionEvent.supported && el) {\n      el.addEventListener(transitionEvent.name, listener);\n    } else {\n      return window.setTimeout(listener, fallbackTime);\n    }\n  }\n}\n\n/**\n * Прекращение ожидания окончания анимации перехода на элементе\n *\n * @param listener коллбэк окончания ожидания\n * @param handle то, что вернулось из ```waitTransitionEnd```\n * @param el элемент\n */\nexport function cancelWaitTransitionEnd(listener: (ev?: TransitionEvent) => any, handle?: number, el?: GlobalEventHandlers) {\n  if (canUseEventListeners) {\n    if (transitionEvent.supported && el) {\n      el.removeEventListener(transitionEvent.name, listener);\n    } else {\n      window.clearTimeout(handle);\n    }\n  }\n}\n\n","export const noop = () => {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport function throttle<T extends any[]>(fn: (...args: T) => unknown, threshold = 50, scope = window) {\n  let last: number;\n  let deferTimer: ReturnType<typeof setTimeout>;\n\n  return function(...args: T) {\n    const context = scope;\n    const now = Date.now();\n\n    if (last && now < last + threshold) {\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(() => {\n        last = now;\n        fn.apply(context, args);\n      }, threshold);\n    } else {\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}\n\nexport function debounce<T extends any[]>(fn: (...args: T) => unknown, delay: number, context = window) {\n  let timeout: ReturnType<typeof setTimeout>;\n  let args: T;\n\n  const later = () => fn.apply(context, args);\n\n  return (...a: T) => {\n    args = a;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, delay);\n  };\n}\n","import { noop } from './functions';\nimport { canUseDOM, canUseEventListeners } from './dom';\n\nexport let isPassiveEventsSupported = false;\n\nif (canUseEventListeners) {\n  try {\n    const options = Object.defineProperty({}, 'passive', {\n      get: function() {\n        isPassiveEventsSupported = true;\n      },\n    });\n\n    window.addEventListener('test', noop, options);\n    window.removeEventListener('test', noop, options);\n  } catch (e) {}\n}\n\nfunction detectSmoothScrollSupport() {\n  if (!canUseDOM) {\n    return false;\n  }\n\n  let isSupported = false;\n  try {\n    const div = document.createElement('div');\n    div.scrollTo({\n      top: 0,\n      // @ts-ignore\n      get behavior() {\n        isSupported = true;\n        return 'smooth';\n      },\n    });\n  } catch (e) {}\n  return isSupported;\n}\n\nexport let isSmoothScrollSupported = detectSmoothScrollSupport();\n","import { canUseDOM } from './dom';\n\nexport const IPHONE_SAFARI_BOTTOM_BAR = 45;\nexport const IPHONE_X_SAFARI_BOTTOM_BAR = 85;\n\nexport const IPHONE_KEYBOARD_REJECT_OFFSET = 180;\n\n// 44 iPhone, 55 iPad, iPad Pro 69\nexport const IOS_NO_KEYBOARD_ALLOWED_OFFSET = 70;\n\nexport function detectIOS(ua?: string) {\n  if (!ua) {\n    ua = canUseDOM ? navigator.userAgent.toLowerCase() : '';\n  }\n\n  const isIPadOS = checkIPadOS(ua);\n  const isIPad = isIPadOS || ua.indexOf('ipad') !== -1;\n  const isIPhone = !isIPad && ua.search(/iphone|ipod/) !== -1;\n  const isIOS = isIPhone || isIPad;\n\n  let iosVersion = isIOS && ua.match(/OS ([\\d_]+) like Mac OS X/i);\n  let iosMajor = 0;\n  let iosMinor = 0;\n\n  if (isIPadOS) {\n    iosMajor = 13;\n    iosMinor = 0;\n  } else if (iosVersion) {\n    iosVersion = iosVersion[1].split('_');\n    iosMajor = +iosVersion[0];\n    iosMinor = +iosVersion[1];\n  }\n\n  iosVersion = null;\n\n  const isScrollBasedViewport = iosMajor < 13 && !(iosMajor === 11 && iosMinor < 3);\n  const isWKWebView = isIOS && checkWKWebView(ua);\n\n  let isIPhoneX = false;\n\n  if (canUseDOM) {\n    isIPhoneX = isIOS && screen.width === 375 &&\n      screen.height === 812 && window.devicePixelRatio === 3;\n  }\n\n  const isIOSChrome = ua.search(/crios/i) !== -1;\n\n  return {\n    isIPad, isIPhone, isIOS, isIPadOS,\n    iosMajor, iosMinor,\n    isWKWebView, isScrollBasedViewport,\n    isIPhoneX,\n    isIOSChrome,\n  };\n}\n\nconst {\n  isIPad, isIPhone, isIOS, isIPadOS,\n  iosMajor, iosMinor,\n  isWKWebView, isScrollBasedViewport,\n  isIPhoneX,\n  isIOSChrome,\n} = detectIOS();\n\nexport {\n  isIPad, isIPhone, isIOS, isIPadOS,\n  iosMajor, iosMinor,\n  isWKWebView, isScrollBasedViewport,\n  isIPhoneX,\n  isIOSChrome,\n};\n\nexport function isLandscapePhone() {\n  return Math.abs(window.orientation as number) === 90 && !isIPad;\n}\n\n// Reference:\n// https://stackoverflow.com/questions/28795476/detect-if-page-is-loaded-inside-wkwebview-in-javascript/30495399#30495399\nfunction checkWKWebView(ua: string) {\n  if (!canUseDOM) {\n    return false;\n  }\n\n  const webkit = (window as any).webkit;\n\n  if (webkit && webkit.messageHandlers) {\n    return true;\n  }\n\n  const lte9 = /constructor/i.test(String(window.HTMLElement));\n  const idb = !!window.indexedDB;\n\n  if (\n    ua.indexOf('safari') !== -1 &&\n    ua.indexOf('version') !== -1 &&\n    !(navigator as any).standalone\n  ) {\n    // Safari (WKWebView/Nitro since 6+)\n  } else if ((!idb && lte9) || !(window.statusbar && window.statusbar.visible)) {\n    // UIWebView\n  } else if (!lte9 || idb) {\n    // WKWebView\n    return true;\n  }\n\n  return false;\n}\n\nexport function checkIPadOS(ua: string) {\n  if (!canUseDOM) {\n    return false;\n  }\n\n  const notIOS = !/ipad|iphone|ipod/.test(ua);\n  const macOS = /mac os/.test(ua);\n\n  if (macOS && notIOS && typeof (navigator as any).standalone === 'boolean') {\n    return true;\n  }\n\n  return false;\n}\n","import { isIOS, isIPadOS } from './IOSDetections';\nimport { canUseDOM } from './dom';\n\nlet hasMouse: boolean;\nlet hasTouchEvents: boolean;\nlet hasHover: boolean;\nlet hasTouch: boolean;\n\nif (canUseDOM) {\n  if (isIOS && !isIPadOS) {\n    hasMouse = false;\n    hasHover = false;\n    hasTouchEvents = true;\n    hasTouch = true;\n  } else {\n    hasTouchEvents = 'ontouchstart' in document;\n    hasTouch = hasTouchEvents ||\n      ('maxTouchPoints' in navigator && navigator.maxTouchPoints > 0);\n\n    if (hasTouch) {\n      const notMobile = !/android|mobile|tablet/i.test(navigator.userAgent);\n\n      hasMouse = window.matchMedia && matchMedia('(pointer)').matches ?\n        matchMedia('(pointer: fine)').matches : notMobile;\n\n      hasHover = hasMouse && (window.matchMedia && matchMedia('(hover)').matches ?\n        matchMedia('(hover: hover)').matches : notMobile);\n    } else {\n      hasMouse = true;\n      hasHover = true;\n    }\n  }\n} else {\n  hasMouse = false;\n  hasTouchEvents = false;\n  hasHover = false;\n  hasTouch = false;\n}\n\nexport { hasMouse, hasHover, hasTouchEvents, hasTouch };\n","/* eslint-disable */\nimport { canUseDOM } from \"./dom\";\n\nexport type MatchesMethod = (css: string) => boolean;\n\nexport interface OldElement extends Element {\n  matchesSelector?: MatchesMethod;\n  mozMatchesSelector?: MatchesMethod;\n  msMatchesSelector?: MatchesMethod;\n}\n\nif (canUseDOM) {\n  const ElementProto = Element.prototype;\n\n  // Element.prototype.matches\n  if (!ElementProto.matches) {\n    ElementProto.matches =\n      (ElementProto as OldElement).matchesSelector ||\n      ElementProto.webkitMatchesSelector ||\n      (ElementProto as OldElement).mozMatchesSelector ||\n      (ElementProto as OldElement).msMatchesSelector;\n  }\n\n  // Element.prototype.closest\n  if (!ElementProto.closest) {\n    ElementProto.closest = function (css: string): Element | null {\n      let node: Element = this;\n      while (node) {\n        if (node.matches(css)) {\n          return node;\n        } else {\n          node = node.parentElement;\n        }\n      }\n      return null;\n    };\n  }\n}\n\n// Array.prototype.includes\nif (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, \"includes\", {\n    value: function (searchElement: any, fromIndex: number) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n      const o = Object(this);\n      const len = o.length >>> 0;\n      if (len === 0) {\n        return false;\n      }\n      const n = fromIndex | 0;\n      let k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n      function sameValueZero(x: any, y: any) {\n        return (\n          x === y ||\n          (typeof x === \"number\" &&\n            typeof y === \"number\" &&\n            isNaN(x) &&\n            isNaN(y))\n        );\n      }\n      while (k < len) {\n        if (sameValueZero(o[k], searchElement)) {\n          return true;\n        }\n        k++;\n      }\n      return false;\n    },\n  });\n}\n\n// Array.prototype.find\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, \"find\", {\n    value: function (callback: Array<any>[\"find\"]) {\n      if (this === null) {\n        throw new TypeError(\"Array.prototype.find called on null or undefined\");\n      } else if (typeof callback !== \"function\") {\n        throw new TypeError(\"callback must be a function\");\n      }\n\n      let list = Object(this);\n      let length = list.length >>> 0;\n      let thisArg = arguments[1];\n\n      for (let i = 0; i < length; i++) {\n        let element = list[i];\n        if (callback.call(thisArg, element, i, list)) {\n          return element;\n        }\n      }\n    },\n  });\n}\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;"],"sourceRoot":""}